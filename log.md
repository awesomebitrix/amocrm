# Лог изменений

* 1.8.0 (25.07.2017) Добавлена возможность поиска дубликатов среди сделок. С дубликатами сделок доступны те же действия, что и с дубликатами контактов:
    * добавление примечания к новой сделке о том, что есть дубликаты
    * обновление основной сделки без создания дубликата
    * использование основной сделки без обновления
    
    Кроме всего прочего, этот функционал даёт возможность проводить сделку по статусам в зависимости от событий, произошедших на сайте.<br>
    Незначительные багфиксы<br>
    Перезалит архив с решением
* 1.7.10 (15.07.2017) Исправлена ошибка, иногда возникающая при удалении решения.
* 1.7.9 (14.07.2017) Доработано событие, вызываемое перед началом интеграции
* 1.7.8 (14.07.2017) Добавлены события перед началом интеграции с почтовыми событиями и веб-формами. В событиях можно изменить содержимое полей перед отправкой, а так же отменить отправку в амо. Подробнее в [документации](./events.md);<br>
Поле для передачи рекламных меток utm_* расширено, теперь через него можно передавать так же метки вида roistat_*;<br>
Добавлена возможность поиска рекламных меток в cookies;
* 1.7.7 (10.07.2017) Исправлена очередность выполнения событий
* 1.7.6 (09.07.2017) Добавлен компонент для импорта результатов ранее заполненных веб-форм и прошедших почтовых событий<br>
Добавлена возможность передавать файлы в виде url-ов, ведущих на их местоположение на сайте, на котором произошло событие.
* 1.7.5 (08.07.2017) Добавлена возможность передавать домен текущего сайта<br>
Добавлена возможность задавать название сделки в «Неразобранном»
* 1.7.4 (04.07.2017) Исправлена ошибка, из-за которой не всегда подтягивались utm-метки
* 1.7.3 (26.06.2017) Исправлена ошибка совместимости со старыми версиями Битрикса при создании почтовых шаблонов
* 1.7.2 (21.06.2017) Исправлена ошибка, возникающая при проверке времени отправки последнего письма администратору.
* 1.7.1 (21.06.2017) Обработка событий модулем поставлена в очереди самой последней, чтобы была возможность захватить все изменения.
* 1.7.0 (20.06.2017) Добавлено письмо-оповещение о недоступности amoCrm
* 1.6.12 (16.06.2017) Добавлена поддержка кастомного поля "Смарт Адрес" для сделки и контакта
* 1.6.11 (16.06.2017) Исправление ошибок в обработке дубликатов<br>
Исправление прочих ошибок
* 1.6.10 (13.06.2017) Оптимизация файловой структуры<br>
Исправление ошибок
* 1.6.9 (08.06.2017) Добавлена поддержка для сайтов в кодировках, отличных от utf-8
* 1.6.8 (06.06.2017) Добавлена проверка на корректность домена<br>
Прочие незначительные доработки
* 1.6.7 (06.06.2017) Добавлена проверка доступности для записи необходимых файлов и папок
* 1.6.6 (04.06.2017) Исправлена ошибка с установкой модуля с уже истекшим демо-периодом
* 1.6.5 (04.06.2017) Добавлена возможность группировать примечания<br>
При добавлении нескольких значений в имя контакта, между ними теперь ставится пробел, а не запятая
* 1.6.4 (04.06.2017) Исправлена баг, из которого иногда передавались не все выбранные параметры
* 1.6.3 (02.06.2017) Добавлена возможность выбора воронки для сделки
* 1.6.2 (02.06.2017) Расширена проверка необходимых модулей и расширений<br>
Добавлена возможность логирования запросов
* 1.6.1 (01.06.2017) Исправлена передача кириллических доменов при добавлении в "Неразобранное"<br>
Прочие незначительные доработки
* 1.6.0 (29.05.2017) Добавлена поддержка utm - меток
* 1.5.9 (25.05.2017) При передаче в "Незаробранное" у примечаний убран идентификатор отвественного
* 1.5.8 (23.05.2017) При включенной опции "Добавить в Неразобранное" выбор действия с дубликатами становится неактивным<br>
Прочие незначительные доработки
* 1.5.7 (22.05.2017) При включенной опции "Добавить в Неразобранное" не участвующие элементы управления (статус сделок и задачи) становятся неактивными<br>
Исправлен глюк, из за которого при установке решения не проверялось установленность необходимых модулей<br>
Прочие незначительные доработки
* 1.5.6 (18.05.2017) Исправлена ошибка, из-за которой в ряде случаев могла сама сниматься галочка "Добавить в "Неразобранное"" в настройках<br>
Повышена стабильность работы при проверке дубликатов
* 1.5.5 (17.05.2017) Исправлена ошибка, из за которой было невозможно добавить новое правило
* 1.5.4 (16.05.2017) незначительные доработки
* 1.5.3 (16.05.2017) Исправлена ошибка, возникающая при новой установке
* 1.5.2 (15.05.2017) незначительные доработки
* 1.5.1 (12.05.2017) Добавлена проверка наличия библиотеки CURL на сервере
* 1.5.0 (11.05.2017) Возможность добавлять сделки и контакты в "Неразобранное"<br>
При включенном контроле дубликатов, к контактам в "Неразобранном" при любых настройках будут добавлены ссылки на них.<br>
Создание задач при добавлении к "Неразобранному" невозможно.<br>
* 1.4.2 (26.04.2017) Исправлены ошибки поиска дубликатов<br>
Добавлен поиск дубликатов если контактов больше 500
* 1.4.1 (24.04.2017) При поиске дубликатов теперь не учитываются пробелы в начале и конце сравниваемых полей
* 1.4.0 (21.04.2017) Добавлен контроль дубликатов<br>
В контактах:<br>
    * добавление примечания к новому контакту о том, что есть дубликаты
    * обновление основного контакта без создания дубликата
    * использование основного контакта без обновления

    В примечаниях: если у сущности есть идентичное примечание, то новое не создается
* 1.3.3 (14.04.2017) Незначительные исправления
* 1.3.2 (20.03.2017) Исправление совместимости с php 5.4
* 1.3.1 (16.03.2017) Исправлена ошибка, возникающая при обновлении с версии 1.2.4 до версии 1.2.5 во время новой установки<br>
Исправлены другие мелкие недоработки
* 1.3.0 (13.03.2017) Добавлена возможность создания задач
* 1.2.5 (12.03.2017) Добавлена возможность создавать сделку без создания контакта
* 1.2.4 (12.03.2017) Исправлена ошибка подсчета бюджета сделки из нескольких полей
* 1.2.3 (10.03.2017) Расширен и уточнен список выводимых ошибок<br>
Оптимизировано количество отправляемых запросов
* 1.2.2 (27.02.2017) Добавлена возможность очищать значения от html-тегов
* 1.2.1 (27.02.2017) Улучшено распознавание чисел при добавлении поля в бюджет сделки<br>
При добавлении нескольких полей в бюджет, их значения суммируются.
* 1.2.0 (23.02.2017) Добавлена возможность передавать значения из форм и почтовых событий в бюджет и кастомные поля сделок. Поддерживаются простые типы кастомных полей: текст, число, текстовая область, короткий адрес, ссылка, дата.<br>
Для всех типы выпадающих списков и флага доступно ручное задание значений.
* 1.1.0 (21.02.2017) Добавлена возможность задавать название сделки<br>
Добавлена возможность задавать бюджет сделки<br>
Добавлена обработка скрытых полей в веб-формах
* 1.0.3 (20.02.2017) Исправлены незначительные ошибки.
* 1.0.2 (17.02.2017) Добавлена поддержка английского языка
* 1.0.1 (16.02.2017) Добавлена совместимость с версией 15.5.4 и старше